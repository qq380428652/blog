webpackJsonp([0],[,function(t,n,a){"use strict";(function(t){function n(){var n=t("article.main-item"),a=t(".main-content"),o=a.width(),e=[],s=parseInt(o/250),i=o/s;n.css("width",i-12);var c=a.height();a.css("height",c),n.css({position:"absolute",left:0,top:0}),n.each(function(n,a){var o=n%s,c=i*o,l=Math.floor(n/s);e.push(t(a).outerHeight(!0));for(var r=0;l>0;)l--,r+=e[l*s+o];t(a).css({transform:"translate("+c+"px,"+r+"px)"})})}function a(){var n=t(".main-content").height();t(".main-content").css("height",n),"/"==location.pathname?(t("#entry-bg").css({opacity:0,transition:"opacity  2s"}),t(".logo").css({opacity:1,"margin-top":0,transition:"all  1s"}),t("#form-search").css({height:20,opacity:1,transition:"all 1s"})):(t("#entry-bg").css({opacity:1,transition:"opacity  2s"}),t(".logo").css({opacity:0,"margin-top":-120,transition:"all  1s"}),t("#form-search").css({height:0,opacity:0,transition:"all 1s"}));var a="",o=t('input[type="hidden"]').val();t(".small-img img").on("click",function(n){n.preventDefault(),a=t('textarea[name="comment"]').val()+t(this).attr("value"),t('textarea[name="comment"]').val(a)}),t(".comment-respond").on("submit",function(n){n.preventDefault();for(var a={username:t('input[name="username"]').val(),usercomment:t('textarea[name="comment"]').val()},e=0;e<t(".small-img img").length;e++)-1!=a.usercomment.search(new RegExp(t(".small-img img").eq(e).attr("value"),"g"))&&(a.usercomment=a.usercomment.replace(new RegExp(t(".small-img img").eq(e).attr("value"),"g"),t(".small-img a").eq(e).html()));t.ajax({type:"post",url:"/api/comment/add"+o,data:a,dataType:"json",success:function(n){t(".erro-msg").html(n.message).css("opacity",1);var a=setTimeout(function(){t(".erro-msg").css({opacity:0,transition:"all 1s"}),clearTimeout(a)},1e3);n.success&&location.reload()}})})}n(),t(window).resize(function(){n()}),t(document).pjax("a[data-pjax]","#main"),t(document).on("pjax:complete",function(){a()}),t(window).on("popstate",function(){a(),n()}),t(window).on("load",function(){a(),n()}),t(".input-search").on("blur",function(){""==this.value&&(this.value="Search")}).on("focus",function(){"Search"==this.value&&(this.value="")}),t(document).on("scroll",function(){t(document).scrollTop()>400?t("#scroll-top").css({display:"block",opacity:"0.7",transition:"opacity 2s"}):t("#scroll-top").css({opacity:"0",transition:"opacity 2s"})}),t("#scroll-top").on("click",function(){var n=t(document).scrollTop(),a=setInterval(function(){n-=500,n>0?t(document).scrollTop(n):(n=0,t(document).scrollTop(n),clearInterval(a))},60)})}).call(n,a(0))}]);